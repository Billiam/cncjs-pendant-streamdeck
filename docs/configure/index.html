<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Configuration - CNCjs Pendant Stream Deck</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://billiam.github.io/cncjs-pendant-streamdeck/favicon.ico><link rel=stylesheet href=/cncjs-pendant-streamdeck/css/style.min.bb59d5a7c70b2ce4408f747e095893c9227ad560e900452744688da34595f8f1.css></head><body class='page page-default-single'><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/cncjs-pendant-streamdeck/><span>Home</span></a></li><li class=menu-item-docs><a href=/cncjs-pendant-streamdeck/docs/><span>Docs</span></a></li><li class=menu-item-validator><a href=/cncjs-pendant-streamdeck/validator/><span>Validator</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/cncjs-pendant-streamdeck/><span>Home</span></a></li><li class=menu-item-docs><a href=/cncjs-pendant-streamdeck/docs/><span>Docs</span></a></li><li class=menu-item-validator><a href=/cncjs-pendant-streamdeck/validator/><span>Validator</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-lg-2 pb-3 pb-lg-0"><div class=sidebar><div class=docs-menu><h4>Docs</h4><ul><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/installation/>Installation</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/editor/>Editor</a></li><li class=active><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/configure/>Configuration</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/actions/>Actions</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/variables/>Variables</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/tips/>Tips</a></li></ul></div></div></div><nav class="docs-toc toc-sticky col-12 col-md-3" aria-label="Secondary navigation"><div class=page-links><h4>On this page</h4><nav id=TableOfContents><ul><li><a href=#cncjs><code>cncjs</code></a></li><li><a href=#machine><code>machine</code></a><ul><li><a href=#machineaxisspeeds><code>machine/axisSpeeds</code></a></li></ul></li><li><a href=#ui><code>ui</code></a><ul><li><a href=#uigcodecolors><code>ui/gcodeColors</code></a></li><li><a href=#uipalette><code>ui/palette</code></a></li></ul></li><li><a href=#scenes><code>scenes</code></a><ul><li><a href=#scenesunique-scene-name><code>scenes/&lt;unique scene name></code></a></li><li><a href=#gcode-file-list>Gcode File list</a></li></ul></li><li><a href=#streamdeckui><code>streamdeckUi</code></a></li><li><a href=#buttons><code>buttons</code></a><ul><li><a href=#buttonsunique-button-name><code>buttons/&lt;unique button name></code></a></li><li><a href=#buttonactions><code>button/actions</code></a></li></ul></li></ul></nav></div></nav><div class="col-12 col-lg-7 col-md-9"><h1 class=title>Configuration</h1><div class="content anchor-link-enabled"><p>Buttons, layout, and other behavior are configured with the <code>config.json</code> file.</p><p>The cost of high customizability is unfortunately high complexity. The configuration documentation here
is for reference, but it is <em>strongly</em> recommended that you just start with the
<a href=https://github.com/Billiam/cncjs-pendant-streamdeck/blob/main/src/public/config.example.json>default config</a> and
modify it as you go, rather than starting from scratch.</p><p>You can use the <a href=https://billiam.github.io/cncjs-pendant-streamdeck/validator/>Config Validator</a> to verify your configuration changes.</p><p>The top level configuration object has the following keys:</p><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href=#cncjs><code>cncjs</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Connection information</td></tr><tr><td><a href=#ui><code>ui</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Global grid size and default colors</td></tr><tr><td><a href=#streamdeckui><code>streamdeckUi</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Stream Deck-only overrides to <code>ui</code></td></tr><tr><td><a href=#buttons><code>buttons</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Button display and actions</td></tr><tr><td><a href=#scenes><code>scenes</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Button layout on individual pages</td></tr><tr><td><a href=#machine><code>machine</code></a></td><td><span class="badge bg-info typeinfo">Object</span></td><td>Machine axes and per-axis speed modifiers</td></tr></tbody></table><h2 id=cncjs><code>cncjs</code></h2><p>Used to configure connection to the cncjs server, and controller serial port</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;cncjs&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;accessTokenExpiration&#34;</span><span class=p>:</span> <span class=s2>&#34;30d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;baudRate&#34;</span><span class=p>:</span> <span class=mi>115200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;controllerType&#34;</span><span class=p>:</span> <span class=s2>&#34;Grbl&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;port&#34;</span><span class=p>:</span> <span class=s2>&#34;/dev/ttyACM0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;socketAddress&#34;</span><span class=p>:</span> <span class=s2>&#34;localhost&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;socketPort&#34;</span><span class=p>:</span> <span class=mi>8000</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>accessTokenExpiration</code></td><td><span class="badge bg-info typeinfo">String</span>
, <span class="badge bg-info typeinfo">Integer</span></td><td>Web token expiration duration, in seconds or as a duration string. Default: <code>30d</code>. <span class="badge bg-success">Stream Deck only</span></td></tr><tr><td><code>baudRate</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Serial connection baud rate</td></tr><tr><td><code>port</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Serial connection port</td></tr><tr><td><code>controllerType</code></td><td><span class="badge bg-info typeinfo">Enum</span></td><td>Controller type. Allowed: [<code>Grbl</code>]</td></tr><tr><td><code>socketAddress</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>URL for socket connection to cncjs. Usually <code>localhost</code>, the server&rsquo;s IP address, <code>cncjs.local</code> or similar</td></tr><tr><td><code>socketPort</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Socket connection port for cncjs. Usually <code>80</code> or <code>8000</code></td></tr><tr><td><code>secure</code></td><td><span class="badge bg-info typeinfo">Boolean</span></td><td>If enabled, socket connections will be made over wss, and API requests over https. Default <code>false</code></td></tr></tbody></table><h2 id=machine><code>machine</code></h2><p>Machine axes and per-axis speed modifiers</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;machine&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;axes&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;y&#34;</span><span class=p>,</span> <span class=s2>&#34;z&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;axisSpeeds&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;x&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;y&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;z&#34;</span><span class=p>:</span> <span class=mf>0.25</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>axes</code></td><td><span class="badge bg-info typeinfo">String[]</span></td><td>Array of axes in use. Allowed values: [<code>a</code>,<code>b</code>,<code>c</code>,<code>x</code>,<code>y</code>,<code>z</code>]</td></tr><tr><td><a href=#machineaxisspeeds><code>axisSpeeds</code></a></td><td><a href=#machineaxisspeeds><span class="badge bg-info typeinfo">Object</span></a></td><td>Per-axis speed overrides, used for smooth jogging</td></tr></tbody></table><h3 id=machineaxisspeeds><code>machine/axisSpeeds</code></h3><p>Override smooth jog speeds on a per-axis basis. Allows moving specific axes slower or faster than the current smooth jog
travel speed.</p><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>a</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the A axis. Default: <code>1</code></td></tr><tr><td><code>b</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the B axis. Default: <code>1</code></td></tr><tr><td><code>c</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the C axis. Default: <code>1</code></td></tr><tr><td><code>x</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the X axis. Default: <code>1</code></td></tr><tr><td><code>y</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the Y axis. Default: <code>1</code></td></tr><tr><td><code>z</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Travel speed multiplier for the Z axis. Default: <code>1</code></td></tr></tbody></table><h2 id=ui><code>ui</code></h2><p>Configuration for global interface settings.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;ui&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;bgColor&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;brightness&#34;</span><span class=p>:</span> <span class=mi>60</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;columns&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;font&#34;</span><span class=p>:</span> <span class=s2>&#34;monospace&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;fontSize&#34;</span><span class=p>:</span> <span class=mi>16</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;lineHeight&#34;</span><span class=p>:</span> <span class=mf>1.2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;gcodeColors&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;G0&#34;</span><span class=p>:</span> <span class=s2>&#34;#52ff2e&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;G1&#34;</span><span class=p>:</span> <span class=s2>&#34;#9a96ff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;G2G3&#34;</span><span class=p>:</span> <span class=s2>&#34;#9a96ff&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;lineHeight&#34;</span><span class=p>:</span> <span class=mf>1.1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;palette&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#181818&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#bdc3c7&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#b71138&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#efa021&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#06D6A0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#2a88c5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#EF476F&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#02535e&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;#1F2D3A&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;pageColor&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;progressColor&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rows&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;textColor&#34;</span><span class=p>:</span> <span class=s2>&#34;#fff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;textSize&#34;</span><span class=p>:</span> <span class=mf>1.2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;timeout&#34;</span><span class=p>:</span> <span class=mi>180</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>bgColor</code></td><td><span class="badge bg-info typeinfo">Integer</span>
, <span class="badge bg-info typeinfo">String</span></td><td>Default background color for buttons. May be a color string or <a href=#uipalette>palette</a> index</td></tr><tr><td><code>brightness</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Default brightness. [<code>10</code> â€“ <code>100</code>] <span class="badge bg-success">Stream Deck only</span></td></tr><tr><td><code>columns</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Number of columns to display</td></tr><tr><td><code>rows</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Number of rows to display</td></tr><tr><td><code>font</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Font to use for text display. Default: <code>monospace</code></td></tr><tr><td><code>fontSize</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Font size to use for text display <span class="badge bg-success">Stream Deck only</span></td></tr><tr><td><code>lineHeight</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Line height for text display as a percentage of font size. Default: <code>1.1</code></td></tr><tr><td><a href=#uigcodecolors><code>gcodeColors</code></a></td><td><a href=#uigcodecolors><span class="badge bg-info typeinfo">Object</span></a></td><td>Line and curve colors for gcode rendering.</td></tr><tr><td><code>gcodeLimit</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Set a hard limit on the number of lines of gcode that will be processed. Affects rendering and boundary data. <span class="badge bg-success">Stream Deck only</span></td></tr><tr><td><code>pageColor</code></td><td><span class="badge bg-info typeinfo">Integer</span>
, <span class="badge bg-info typeinfo">String</span></td><td>Color to use for page background <span class="badge bg-primary">web only</span></td></tr><tr><td><a href=#uipalette><code>palette</code></a></td><td><a href=#uipalette><span class="badge bg-info typeinfo">String[]</span></a></td><td>Array of colors that buttons and other color settings may refer to by index</td></tr><tr><td><code>progressColor</code></td><td><span class="badge bg-info typeinfo">Integer</span>
, <span class="badge bg-info typeinfo">String</span></td><td>Color to use for button hold indicator. May be a color string or <a href=#uipalette>palette</a> index</td></tr><tr><td><code>textColor</code></td><td><span class="badge bg-info typeinfo">Integer</span>
, <span class="badge bg-info typeinfo">String</span></td><td>Color to use for button text. May be a color string or <a href=#uipalette>palette</a> index</td></tr><tr><td><code>textSize</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Font size modifier. Default: <code>1</code>. <span class="badge bg-primary">web only</span></td></tr><tr><td><code>throttle</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Redraw each button at most once every <code>throttle</code> milliseconds. Default: <code>0</code>. <span class="badge bg-success">Stream Deck only</span></td></tr><tr><td><code>timeout</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Duration, in seconds, before blanking display. <span class="badge bg-success">Stream Deck only</span></td></tr></tbody></table><h3 id=uigcodecolors><code>ui/gcodeColors</code></h3><p>Gcode preview can use different colors for rapid travel, straight and curved cuts. Colors may use <code>rgb(0, 50, 200)</code>,
hex <code>#001122</code> etc. Palette colors are not supported here.</p><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>G0</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Color to use for rapid travel moves.</td></tr><tr><td><code>G1</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Color to use for straight line cut moves</td></tr><tr><td><code>G2G3</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Color to use for curve cut moves</td></tr></tbody></table><p>The following variables are available to button conditions (like <code>if</code> and <code>disabled</code>), and templated text.</p><h3 id=uipalette><code>ui/palette</code></h3><p>Palette colors are an array of color strings (of any length).
You can refer to these colors in most places that expect a color by referencing their array index.</p><p>This helps keep your color choices consistent, and allows changing many colors at once if needed.</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;palette&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;#ccc&#34;</span><span class=p>,</span> <span class=s2>&#34;rgb(0, 100, 255)&#34;</span><span class=p>,</span> <span class=s2>&#34;salmon&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=scenes><code>scenes</code></h2><p>The scenes configuration controls the layout of buttons (from the <a href=#buttons><code>buttons</code></a> object), and is used to
create individual pages. A scene represents a single page of visible buttons. It must have a unique name, so that it
can be referred to by button actions for navigation.</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scenes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;myScene&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;buttons&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=s2>&#34;row1_button&#34;</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=s2>&#34;row1_button&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=p>[],</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=s2>&#34;row3_button&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href=#scenesunique-scene-name><code>&lt;unique scene name></code></a></td><td><a href=#scenesunique-scene-name><span class="badge bg-info typeinfo">Object</span></a></td><td>A named scene</td></tr></tbody></table><h3 id=scenesunique-scene-name><code>scenes/&lt;unique scene name></code></h3><p>Individual scenes contain a single key: <code>buttons</code>.</p><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>buttons</code></td><td><span class="badge bg-info typeinfo">(String, Null)[][]</span></td><td>Nested array of buttons</td></tr></tbody></table><p>The <code>buttons</code> value is a nested array of button IDs, with each inner array representing a row of buttons.</p><p><code>null</code> values represent an empty space, and can be used in place of button IDs to space later buttons in the row.</p><p>Scenes should not contain <em>more</em> than the configured row or column count, and this behavior is considered undefined.
However, scenes can have fewer items than the row or column.</p><p>The following would display eight buttons in a 3x3 grid, with the center square empty.</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;buttons&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;b1&#34;</span><span class=p>,</span> <span class=s2>&#34;b2&#34;</span><span class=p>,</span> <span class=s2>&#34;b3&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;b4&#34;</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=s2>&#34;b5&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;b6&#34;</span><span class=p>,</span> <span class=s2>&#34;b7&#34;</span><span class=p>,</span> <span class=s2>&#34;b8&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Instead of a button ID, <em>another</em> nested array (containing button IDs) can be used in a row. In this case, only the
<strong>last visible button</strong> in the array will be displayed. This is useful for making toggle buttons (technically two
different buttons), or other conditional buttons that occupy the same space.</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;buttons&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;row1_button&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;conditional_button1&#34;</span><span class=p>,</span> <span class=s2>&#34;conditional_button2&#34;</span><span class=p>]],</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;row2_button&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;row3_button&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Several scenes have special meaning:</p><ul><li>The <code>home</code> scene must exist, as it is used when the webpage or process first loads.</li><li>The <code>numpad</code> scene must exist <em>if</em> any buttons use the <code>enterWcs</code>, <code>enterPosition</code>, or <code>enterSpindleSpeed</code> button actions.</li><li>The <code>gcodeList</code> scene <em>should not</em> exist in your scenes list, but is always available for navigation events anyway.</li></ul><h3 id=gcode-file-list>Gcode File list</h3><p>The file list scene layout is not configurable, since it is dynamically generated. However, the buttons used in this
scene can have their appearance customized.</p><p>It is recommended that configuration of these buttons be limited background color and image only.</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>fileListFile</code></td><td>GCode file button</td></tr><tr><td><code>fileListFolder</code></td><td>Subfolder button</td></tr><tr><td><code>fileListPreviousFolder</code></td><td>&ldquo;Up a directory&rdquo; button</td></tr><tr><td><code>fileListDownArrow</code></td><td>Down arrow for scrolling when the file list overflows the grid layout</td></tr><tr><td><code>fileListUpArrow</code></td><td>Up arrow for scrolling when the file list overflows the grid layout</td></tr><tr><td><code>sortScene</code></td><td>Button that links to a scene where file sort options can be selected</td></tr></tbody></table><h2 id=streamdeckui><code>streamdeckUi</code></h2><p>This section has the exact same structure as the <a href=#ui><code>ui</code></a> configuration. Properties in <code>streamdeckUi</code>
will override those of the <code>ui</code> section, when using a Stream Deck, and are ignored in the web version.</p><p>This allows the use of smaller fonts, brighter colors, or more aggressive throttling/rendering limits.</p><p>All properties are optional.</p><h2 id=buttons><code>buttons</code></h2><p>The <code>buttons</code> configuration defines buttons, their appearance details, and what (if anything) happens when buttons are
pressed, released or held. <a href=#scenes><code>Scenes</code></a> will refer to these buttons by their unique ID to display them their
layout.</p><p class=codeblock-label>example</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;buttons&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;my_button&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;bgColor&#34;</span><span class=p>:</span> <span class=s2>&#34;#ffccaa&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;icon&#34;</span><span class=p>:</span> <span class=s2>&#34;custom/my_icon.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;text&#34;</span><span class=p>:</span> <span class=s2>&#34;Oh no!&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;textAlignment&#34;</span><span class=p>:</span> <span class=s2>&#34;top right&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;actions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;action&#34;</span><span class=p>:</span> <span class=s2>&#34;navigate&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arguments&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;home&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;event&#34;</span><span class=p>:</span> <span class=s2>&#34;hold&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href=#buttonsunique-button-name><code>&lt;unique button id></code></a></td><td><a href=#buttonsunique-button-name><span class="badge bg-info typeinfo">Object</span></a></td><td>A named button</td></tr></tbody></table><h3 id=buttonsunique-button-name><code>buttons/&lt;unique button name></code></h3><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href=#buttonactions><code>actions</code></a></td><td><a href=#buttonactions><span class="badge bg-info typeinfo">Object[]</span></a></td><td>Actions to take when button is pressed, released or held</td></tr><tr><td><code>bgColor</code></td><td><span class="badge bg-info typeinfo">Integer</span>
, <span class="badge bg-info typeinfo">String</span></td><td>Background color. May be a color string or <a href=#uipalette>palette</a> index</td></tr><tr><td><code>columns</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Number of columns the button will occupy. Default: <code>1</code></td></tr><tr><td><code>rows</code></td><td><span class="badge bg-info typeinfo">Integer</span></td><td>Number of rows the button will occupy. Default: <code>1</code></td></tr><tr><td><code>type</code></td><td><span class="badge bg-info typeinfo">Enum</span></td><td>Changes the button&rsquo;s behavior and appearance. Allowed: [<code>gcodePreview</code>]</td></tr><tr><td><code>icon</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Image path to display, relative to <code>public</code> directory. Image will be shown over background, and behind text.</td></tr><tr><td><code>if</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Condition used for hiding and showing the button. See: <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/variables/#conditions>conditions</a></td></tr><tr><td><code>disabled</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Condition used for disabling and enabling the button. See: <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/variables/#conditions>conditions</a></td></tr><tr><td><code>text</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>Text or text template that to be displayed on the button. See: <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/variables/#templates>templates</a></td></tr><tr><td><code>textAlignment</code></td><td><span class="badge bg-info typeinfo">Enum</span></td><td>Text position within the button. Allowed: [<code>top left</code>, <code>top center</code>, <code>top right</code>, <code>left</code>,<code>center</code>,<code>right</code>,<code>bottom left</code>,<code>bottom center</code>,<code>bottom right</code>]</td></tr><tr><td><code>textSize</code></td><td><span class="badge bg-info typeinfo">Number</span></td><td>Font size modifier. Default: <code>1</code></td></tr></tbody></table><h3 id=buttonactions><code>button/actions</code></h3><p>A button&rsquo;s <code>actions</code> value defines what happens when a button is activated. Buttons can take multiple actions when
pressed, or when released, or when held down for a few moments, or a combination of those.</p><p>When a <code>hold</code> action is defined, any following <code>up</code> action will be skipped. This allows buttons to perform an action
when pressed briefly, and perform a different action if pressed for a longer period, exclusively.</p><table><thead><tr><th>Key</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>action</code></td><td><span class="badge bg-info typeinfo">String</span></td><td>The name of an action which will be triggered based on the <code>event</code>. See: <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/actions/>actions</a></td></tr><tr><td><code>event</code></td><td><span class="badge bg-info typeinfo">Enum</span></td><td>When the action will take place. Allowed: [<code>up</code>,<code>down</code>,<code>hold</code>]. Default: <code>down</code></td></tr><tr><td><code>arguments</code></td><td><span class="badge bg-info typeinfo">String[]</span></td><td>Options passed to the event. See: <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/actions/>actions</a> for specific arguments for each event</td></tr></tbody></table></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul></ul></div></div></div></div></div><script type=text/javascript src=/cncjs-pendant-streamdeck/js/scripts.min.ec19db7e4836c12e2c5e3697d926bc3e4c22005167d9826aab54feca08f0c093.js></script></body></html>