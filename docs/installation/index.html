<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Installation - CNCjs Pendant Stream Deck</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://billiam.github.io/cncjs-pendant-streamdeck/favicon.ico><link rel=stylesheet href=/cncjs-pendant-streamdeck/css/style.min.bb59d5a7c70b2ce4408f747e095893c9227ad560e900452744688da34595f8f1.css></head><body class='page page-default-single'><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/cncjs-pendant-streamdeck/><span>Home</span></a></li><li class=menu-item-docs><a href=/cncjs-pendant-streamdeck/docs/><span>Docs</span></a></li><li class=menu-item-validator><a href=/cncjs-pendant-streamdeck/validator/><span>Validator</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/cncjs-pendant-streamdeck/><span>Home</span></a></li><li class=menu-item-docs><a href=/cncjs-pendant-streamdeck/docs/><span>Docs</span></a></li><li class=menu-item-validator><a href=/cncjs-pendant-streamdeck/validator/><span>Validator</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-lg-2 pb-3 pb-lg-0"><div class=sidebar><div class=docs-menu><h4>Docs</h4><ul><li class=active><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/installation/>Installation</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/editor/>Editor</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/configure/>Configuration</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/actions/>Actions</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/variables/>Variables</a></li><li><a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/tips/>Tips</a></li></ul></div></div></div><nav class="docs-toc toc-sticky col-12 col-md-3" aria-label="Secondary navigation"><div class=page-links><h4>On this page</h4><nav id=TableOfContents><ul><li><a href=#web>Web</a></li><li><a href=#stream-deck>Stream Deck</a><ul><li><a href=#linux>Linux</a></li><li><a href=#windows>Windows</a></li></ul></li></ul></nav></div></nav><div class="col-12 col-lg-7 col-md-9"><h1 class=title>Installation</h1><div class="content anchor-link-enabled"><h2 id=web>Web</h2><ol><li><p>Download the <a href=https://github.com/Billiam/cncjs-pendant-streamdeck/releases>latest release</a> and extract it, to ex: <code>/home/my-name/cncjs-pendant-streamdeck</code></p></li><li><p>Rename <code>config.example.json</code> to <code>config.json</code></p></li><li><p>Update the <code>config.json</code> file with your connection information in the <a href=https://billiam.github.io/cncjs-pendant-streamdeck/docs/configure/#cncjs><code>cncjs</code></a> section.</p></li><li><p>Edit your <code>~/.cncrc</code> file, adding a mount point for this pendant</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;mountPoints&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;route&#34;</span><span class=p>:</span> <span class=s2>&#34;/grid&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;/home/pi/cncjs-pendant-streamdeck&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Restart CNCjs</p></li></ol><h2 id=stream-deck>Stream Deck</h2><p>Follow <a href=#web>Web</a> steps above to generate create a configuration directory, <code>config.json</code> file, and button images.
You can skip the <code>.cncrc</code> step if you do not need the web interface.</p><h3 id=linux>Linux</h3><p>Instructions borrowed from <a href=https://github.com/julusian/node-elgato-stream-deck>https://github.com/julusian/node-elgato-stream-deck</a></p><p>On linux, the udev subsystem blocks access to the Stream Deck without some special configuration.
Save the following to <code>/etc/udev/rules.d/50-elgato.rules</code> and reload the rules with
<code>sudo udevadm control --reload-rules</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>SUBSYSTEM==&#34;input&#34;, GROUP=&#34;input&#34;, MODE=&#34;0666&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0060&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0063&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;006c&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;006d&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0080&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>SUBSYSTEM==&#34;usb&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0086&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0060&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0063&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;006c&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;006d&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0080&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span><span class=line><span class=cl>KERNEL==&#34;hidraw*&#34;, ATTRS{idVendor}==&#34;0fd9&#34;, ATTRS{idProduct}==&#34;0086&#34;, MODE:=&#34;666&#34;, GROUP=&#34;plugdev&#34;
</span></span></code></pre></div><p>Unplug and replug the device after reloading rules if necessary.</p><p>Install dependencies for the canvas and Stream Deck libraries:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt-get install libusb-1.0-0-dev libudev-dev libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev
</span></span></code></pre></div><p>Install optional node dependencies:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm install -g canvas @julusian/jpeg-turbo
</span></span></code></pre></div><p>Install the pendant:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm install -g cncjs-pendant-streamdeck
</span></span></code></pre></div><p>Run the pendant:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>cncjs-pendant-streamdeck --directory /home/my-name/cncjs-pendant-streamdeck
</span></span></code></pre></div><p>See other help options, mostly for overriding the cncjs connection information:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>cncjs-pendant-streamdeck --help
</span></span></code></pre></div><h3 id=windows>Windows</h3><p>Windows is completely untested!</p><p><code>cncjs-pendant-streamdeck</code> uses the image processing library <a href=https://github.com/lovell/sharp><code>Sharp</code></a>, which is not
compatible with <code>canvas</code> in Windows.</p><p><code>cncjs-pendant-streamdeck</code> supports <a href=https://github.com/joshmarinacci/node-pureimage><code>pureimage</code></a> instead for this
reason.</p><p><code>pureimage</code> is both slower and does not look as nice, but it is functional.</p><p>You can install it with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm install -g pureimage @julusian/jpeg-turbo
</span></span></code></pre></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul></ul></div></div></div></div></div><script type=text/javascript src=/cncjs-pendant-streamdeck/js/scripts.min.ec19db7e4836c12e2c5e3697d926bc3e4c22005167d9826aab54feca08f0c093.js></script></body></html>